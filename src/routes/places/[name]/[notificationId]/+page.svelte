<script>
	import ActionChip from '$lib/components/chips/ActionChip.svelte';
	import { faCheck, faChevronLeft, faSpinner } from '@fortawesome/pro-regular-svg-icons';
	// noinspection ES6UnusedImports
	import Fa from 'svelte-fa';
	import AlertCard from '$lib/components/cards/AlertCard.svelte';
	import Title from '$lib/components/typography/Title.svelte';
	import Body from '$lib/components/typography/Body.svelte';
	import Headline from '$lib/components/typography/Headline.svelte';

	let secondsLeft = 84;
	let isScanned = false;
    export let data;
</script>

<div class="flex flex-col space-y-6 pt-4">
	<ActionChip
		design="text"
		on:click={function () {
			history.back();
		}}
	>
		<Fa
			icon={faChevronLeft}
			slot="icon"
		/>
		Back
	</ActionChip>

	<Headline class="text-center max-w-md mx-auto"
		>Inform {data.noti?.profiles?.username} to scan the QR code to check-in {data.noti?.restaurants?.name}</Headline
	>

	<svg
		xmlns="http://www.w3.org/2000/svg"
		fill="none"
		class="px-12 max-w-md mx-auto"
		viewBox="0 0 342 342"
	>
		<path
			fill="#000"
			d="M16.286 0H0v16.286h16.286V0ZM32.571 0H16.286v16.286H32.57V0ZM48.857 0H32.571v16.286h16.286V0ZM65.143 0H48.857v16.286h16.286V0ZM81.429 0H65.143v16.286h16.286V0ZM97.714 0H81.43v16.286h16.285V0Z"
		/>
		<path
			fill="#000"
			d="M114 0H97.714v16.286H114V0ZM146.571 0h-16.285v16.286h16.285V0ZM244.286 0H228v16.286h16.286V0ZM260.571 0h-16.285v16.286h16.285V0ZM276.857 0h-16.286v16.286h16.286V0Z"
		/>
		<path
			fill="#000"
			d="M293.143 0h-16.286v16.286h16.286V0ZM309.429 0h-16.286v16.286h16.286V0ZM325.714 0h-16.285v16.286h16.285V0ZM342 0h-16.286v16.286H342V0ZM16.286 16.286H0V32.57h16.286V16.286ZM114 16.286H97.714V32.57H114V16.286ZM211.714 16.286h-16.285V32.57h16.285V16.286ZM244.286 16.286H228V32.57h16.286V16.286ZM342 16.286h-16.286V32.57H342V16.286ZM16.286 32.571H0v16.286h16.286V32.571ZM48.857 32.571H32.571v16.286h16.286V32.571ZM65.143 32.571H48.857v16.286h16.286V32.571ZM81.429 32.571H65.143v16.286h16.286V32.571ZM114 32.571H97.714v16.286H114V32.571ZM146.571 32.571h-16.285v16.286h16.285V32.571ZM179.143 32.571h-16.286v16.286h16.286V32.571ZM195.429 32.571h-16.286v16.286h16.286V32.571ZM211.714 32.571h-16.285v16.286h16.285V32.571ZM244.286 32.571H228v16.286h16.286V32.571ZM276.857 32.571h-16.286v16.286h16.286V32.571Z"
		/>
		<path
			fill="#000"
			d="M293.143 32.571h-16.286v16.286h16.286V32.571ZM309.429 32.571h-16.286v16.286h16.286V32.571ZM342 32.571h-16.286v16.286H342V32.571ZM16.286 48.857H0v16.286h16.286V48.857ZM48.857 48.857H32.571v16.286h16.286V48.857ZM65.143 48.857H48.857v16.286h16.286V48.857ZM81.429 48.857H65.143v16.286h16.286V48.857ZM114 48.857H97.714v16.286H114V48.857ZM146.571 48.857h-16.285v16.286h16.285V48.857ZM162.857 48.857h-16.286v16.286h16.286V48.857ZM179.143 48.857h-16.286v16.286h16.286V48.857ZM211.714 48.857h-16.285v16.286h16.285V48.857ZM244.286 48.857H228v16.286h16.286V48.857ZM276.857 48.857h-16.286v16.286h16.286V48.857Z"
		/>
		<path
			fill="#000"
			d="M293.143 48.857h-16.286v16.286h16.286V48.857ZM309.429 48.857h-16.286v16.286h16.286V48.857ZM342 48.857h-16.286v16.286H342V48.857ZM16.286 65.143H0v16.286h16.286V65.143ZM48.857 65.143H32.571v16.286h16.286V65.143ZM65.143 65.143H48.857v16.286h16.286V65.143ZM81.429 65.143H65.143v16.286h16.286V65.143ZM114 65.143H97.714v16.286H114V65.143ZM146.571 65.143h-16.285v16.286h16.285V65.143ZM179.143 65.143h-16.286v16.286h16.286V65.143ZM244.286 65.143H228v16.286h16.286V65.143ZM276.857 65.143h-16.286v16.286h16.286V65.143Z"
		/>
		<path
			fill="#000"
			d="M293.143 65.143h-16.286v16.286h16.286V65.143ZM309.429 65.143h-16.286v16.286h16.286V65.143ZM342 65.143h-16.286v16.286H342V65.143ZM16.286 81.429H0v16.285h16.286V81.43ZM114 81.429H97.714v16.285H114V81.43ZM146.571 81.429h-16.285v16.285h16.285V81.43ZM179.143 81.429h-16.286v16.285h16.286V81.43ZM195.429 81.429h-16.286v16.285h16.286V81.43ZM244.286 81.429H228v16.285h16.286V81.43ZM342 81.429h-16.286v16.285H342V81.43ZM16.286 97.714H0V114h16.286V97.714ZM32.571 97.714H16.286V114H32.57V97.714ZM48.857 97.714H32.571V114h16.286V97.714ZM65.143 97.714H48.857V114h16.286V97.714ZM81.429 97.714H65.143V114h16.286V97.714ZM97.714 97.714H81.43V114h16.285V97.714Z"
		/>
		<path
			fill="#000"
			d="M114 97.714H97.714V114H114V97.714ZM146.571 97.714h-16.285V114h16.285V97.714ZM179.143 97.714h-16.286V114h16.286V97.714ZM211.714 97.714h-16.285V114h16.285V97.714ZM244.286 97.714H228V114h16.286V97.714ZM260.571 97.714h-16.285V114h16.285V97.714ZM276.857 97.714h-16.286V114h16.286V97.714Z"
		/>
		<path
			fill="#000"
			d="M293.143 97.714h-16.286V114h16.286V97.714ZM309.429 97.714h-16.286V114h16.286V97.714ZM325.714 97.714h-16.285V114h16.285V97.714ZM342 97.714h-16.286V114H342V97.714ZM195.429 114h-16.286v16.286h16.286V114ZM211.714 114h-16.285v16.286h16.285V114ZM48.857 130.286H32.571v16.285h16.286v-16.285ZM65.143 130.286H48.857v16.285h16.286v-16.285ZM81.429 130.286H65.143v16.285h16.286v-16.285ZM97.714 130.286H81.43v16.285h16.285v-16.285Z"
		/>
		<path
			fill="#000"
			d="M114 130.286H97.714v16.285H114v-16.285ZM130.286 130.286H114v16.285h16.286v-16.285ZM162.857 130.286h-16.286v16.285h16.286v-16.285ZM195.429 130.286h-16.286v16.285h16.286v-16.285ZM211.714 130.286h-16.285v16.285h16.285v-16.285ZM228 130.286h-16.286v16.285H228v-16.285ZM260.571 130.286h-16.285v16.285h16.285v-16.285ZM276.857 130.286h-16.286v16.285h16.286v-16.285Z"
		/>
		<path
			fill="#000"
			d="M293.143 130.286h-16.286v16.285h16.286v-16.285ZM309.429 130.286h-16.286v16.285h16.286v-16.285ZM342 130.286h-16.286v16.285H342v-16.285ZM16.286 146.571H0v16.286h16.286v-16.286ZM81.429 146.571H65.143v16.286h16.286v-16.286ZM97.714 146.571H81.43v16.286h16.285v-16.286ZM146.571 146.571h-16.285v16.286h16.285v-16.286ZM179.143 146.571h-16.286v16.286h16.286v-16.286ZM211.714 146.571h-16.285v16.286h16.285v-16.286ZM244.286 146.571H228v16.286h16.286v-16.286ZM293.143 146.571h-16.286v16.286h16.286v-16.286ZM309.429 146.571h-16.286v16.286h16.286v-16.286ZM325.714 146.571h-16.285v16.286h16.285v-16.286ZM342 146.571h-16.286v16.286H342v-16.286ZM16.286 162.857H0v16.286h16.286v-16.286ZM48.857 162.857H32.571v16.286h16.286v-16.286ZM65.143 162.857H48.857v16.286h16.286v-16.286ZM114 162.857H97.714v16.286H114v-16.286ZM130.286 162.857H114v16.286h16.286v-16.286ZM179.143 162.857h-16.286v16.286h16.286v-16.286ZM195.429 162.857h-16.286v16.286h16.286v-16.286ZM211.714 162.857h-16.285v16.286h16.285v-16.286ZM260.571 162.857h-16.285v16.286h16.285v-16.286ZM16.286 179.143H0v16.286h16.286v-16.286ZM97.714 179.143H81.43v16.286h16.285v-16.286ZM146.571 179.143h-16.285v16.286h16.285v-16.286ZM162.857 179.143h-16.286v16.286h16.286v-16.286ZM195.429 179.143h-16.286v16.286h16.286v-16.286ZM244.286 179.143H228v16.286h16.286v-16.286ZM276.857 179.143h-16.286v16.286h16.286v-16.286Z"
		/>
		<path
			fill="#000"
			d="M293.143 179.143h-16.286v16.286h16.286v-16.286ZM325.714 179.143h-16.285v16.286h16.285v-16.286ZM16.286 195.429H0v16.285h16.286v-16.285ZM32.571 195.429H16.286v16.285H32.57v-16.285ZM48.857 195.429H32.571v16.285h16.286v-16.285ZM81.429 195.429H65.143v16.285h16.286v-16.285ZM114 195.429H97.714v16.285H114v-16.285ZM162.857 195.429h-16.286v16.285h16.286v-16.285ZM179.143 195.429h-16.286v16.285h16.286v-16.285ZM195.429 195.429h-16.286v16.285h16.286v-16.285ZM211.714 195.429h-16.285v16.285h16.285v-16.285ZM228 195.429h-16.286v16.285H228v-16.285ZM293.143 195.429h-16.286v16.285h16.286v-16.285ZM309.429 195.429h-16.286v16.285h16.286v-16.285ZM325.714 195.429h-16.285v16.285h16.285v-16.285ZM342 195.429h-16.286v16.285H342v-16.285ZM162.857 211.714h-16.286V228h16.286v-16.286ZM195.429 211.714h-16.286V228h16.286v-16.286ZM244.286 211.714H228V228h16.286v-16.286ZM276.857 211.714h-16.286V228h16.286v-16.286Z"
		/>
		<path
			fill="#000"
			d="M293.143 211.714h-16.286V228h16.286v-16.286ZM325.714 211.714h-16.285V228h16.285v-16.286ZM16.286 228H0v16.286h16.286V228ZM32.571 228H16.286v16.286H32.57V228ZM48.857 228H32.571v16.286h16.286V228ZM65.143 228H48.857v16.286h16.286V228ZM81.429 228H65.143v16.286h16.286V228ZM97.714 228H81.43v16.286h16.285V228Z"
		/>
		<path
			fill="#000"
			d="M114 228H97.714v16.286H114V228ZM146.571 228h-16.285v16.286h16.285V228ZM162.857 228h-16.286v16.286h16.286V228ZM179.143 228h-16.286v16.286h16.286V228ZM195.429 228h-16.286v16.286h16.286V228ZM293.143 228h-16.286v16.286h16.286V228ZM309.429 228h-16.286v16.286h16.286V228ZM325.714 228h-16.285v16.286h16.285V228ZM16.286 244.286H0v16.285h16.286v-16.285ZM114 244.286H97.714v16.285H114v-16.285ZM146.571 244.286h-16.285v16.285h16.285v-16.285ZM179.143 244.286h-16.286v16.285h16.286v-16.285ZM211.714 244.286h-16.285v16.285h16.285v-16.285ZM228 244.286h-16.286v16.285H228v-16.285ZM260.571 244.286h-16.285v16.285h16.285v-16.285ZM293.143 244.286h-16.286v16.285h16.286v-16.285ZM309.429 244.286h-16.286v16.285h16.286v-16.285ZM16.286 260.571H0v16.286h16.286v-16.286ZM48.857 260.571H32.571v16.286h16.286v-16.286ZM65.143 260.571H48.857v16.286h16.286v-16.286ZM81.429 260.571H65.143v16.286h16.286v-16.286ZM114 260.571H97.714v16.286H114v-16.286ZM146.571 260.571h-16.285v16.286h16.285v-16.286ZM244.286 260.571H228v16.286h16.286v-16.286ZM260.571 260.571h-16.285v16.286h16.285v-16.286ZM276.857 260.571h-16.286v16.286h16.286v-16.286ZM325.714 260.571h-16.285v16.286h16.285v-16.286ZM342 260.571h-16.286v16.286H342v-16.286ZM16.286 276.857H0v16.286h16.286v-16.286ZM48.857 276.857H32.571v16.286h16.286v-16.286ZM65.143 276.857H48.857v16.286h16.286v-16.286ZM81.429 276.857H65.143v16.286h16.286v-16.286ZM114 276.857H97.714v16.286H114v-16.286ZM146.571 276.857h-16.285v16.286h16.285v-16.286ZM162.857 276.857h-16.286v16.286h16.286v-16.286ZM179.143 276.857h-16.286v16.286h16.286v-16.286ZM195.429 276.857h-16.286v16.286h16.286v-16.286ZM228 276.857h-16.286v16.286H228v-16.286ZM260.571 276.857h-16.285v16.286h16.285v-16.286ZM293.143 276.857h-16.286v16.286h16.286v-16.286ZM325.714 276.857h-16.285v16.286h16.285v-16.286Z"
		/>
		<path
			fill="#000"
			d="M16.286 293.143H0v16.286h16.286v-16.286ZM48.857 293.143H32.571v16.286h16.286v-16.286ZM65.143 293.143H48.857v16.286h16.286v-16.286ZM81.429 293.143H65.143v16.286h16.286v-16.286ZM114 293.143H97.714v16.286H114v-16.286ZM146.571 293.143h-16.285v16.286h16.285v-16.286ZM162.857 293.143h-16.286v16.286h16.286v-16.286ZM179.143 293.143h-16.286v16.286h16.286v-16.286ZM195.429 293.143h-16.286v16.286h16.286v-16.286ZM244.286 293.143H228v16.286h16.286v-16.286ZM260.571 293.143h-16.285v16.286h16.285v-16.286ZM309.429 293.143h-16.286v16.286h16.286v-16.286ZM325.714 293.143h-16.285v16.286h16.285v-16.286ZM16.286 309.429H0v16.285h16.286v-16.285ZM114 309.429H97.714v16.285H114v-16.285ZM179.143 309.429h-16.286v16.285h16.286v-16.285ZM244.286 309.429H228v16.285h16.286v-16.285ZM260.571 309.429h-16.285v16.285h16.285v-16.285ZM276.857 309.429h-16.286v16.285h16.286v-16.285ZM342 309.429h-16.286v16.285H342v-16.285ZM16.286 325.714H0V342h16.286v-16.286ZM32.571 325.714H16.286V342H32.57v-16.286ZM48.857 325.714H32.571V342h16.286v-16.286ZM65.143 325.714H48.857V342h16.286v-16.286ZM81.429 325.714H65.143V342h16.286v-16.286ZM97.714 325.714H81.43V342h16.285v-16.286Z"
		/>
		<path
			fill="#000"
			d="M114 325.714H97.714V342H114v-16.286ZM162.857 325.714h-16.286V342h16.286v-16.286ZM211.714 325.714h-16.285V342h16.285v-16.286Z"
		/>
	</svg>

	<Body class="!text-sm opacity-70 text-center">This QR will refresh in {secondsLeft} seconds</Body>

	{#if !isScanned}
		<AlertCard design="gray">
			<Fa
				icon={faSpinner}
				slot="icon"
			/>
			<Title slot="title">Waiting for guests to scan</Title>
		</AlertCard>
	{:else}
		<AlertCard design="green">
			<Fa
				icon={faCheck}
				slot="icon"
			/>
			<Title slot="title">Guest scanned successfully</Title>
			<Body slot="body">This screen will close automatically in 5 seconds</Body>
		</AlertCard>
	{/if}
</div>
